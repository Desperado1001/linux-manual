# 第2章学习笔记：基本概念

## 📝 学习记录

**开始时间：** [填写开始学习的日期]  
**预计完成：** [填写预计完成的日期]  
**实际完成：** [填写实际完成的日期]

---

## 2.1 操作系统的核心

### 关键概念
- **内核态 vs 用户态：**
  - [ ] 理解两种运行模式的区别
  - [ ] 掌握模式切换的时机和方法
  
- **系统调用：**
  - [ ] 理解系统调用的作用和重要性
  - [ ] 掌握常用系统调用的使用方法

### 学习心得
```
[记录对内核概念的理解和疑问]
```

### 实验记录
```bash
# 实验命令和结果
strace -c ./hello_world
# [记录输出和分析]
```

---

## 2.2 Shell

### 关键概念
- **Shell的作用：**
  - [ ] 理解Shell作为用户界面的重要性
  - [ ] 掌握命令解析和执行过程

### 学习心得
```
[记录对Shell工作原理的理解]
```

### 代码实验
```c
// 简单Shell实现思路
// [记录关键代码片段和思考]
```

---

## 2.3 用户和组

### 关键概念
- **UID/GID系统：**
  - [ ] 理解用户和组的标识方法
  - [ ] 掌握权限检查机制

### 重要API
```c
// 用户信息获取
uid_t uid = getuid();
struct passwd *pw = getpwuid(uid);
```

### 学习心得
```
[记录对权限模型的理解]
```

---

## 2.4 单根目录层次、目录、链接文件

### 关键概念
- **文件系统树：**
  - [ ] 理解Linux文件系统的层次结构
  - [ ] 掌握绝对路径和相对路径

- **链接文件：**
  - [ ] 理解硬链接和软链接的区别
  - [ ] 掌握链接文件的创建和使用

### 重要区别
| 特性 | 硬链接 | 软链接 |
|------|--------|--------|
| 原理 | [填写] | [填写] |
| 跨文件系统 | [填写] | [填写] |
| 目标删除后 | [填写] | [填写] |

### 学习心得
```
[记录对文件系统结构的理解]
```

---

## 2.5 文件I/O模型

### 关键概念
- **文件描述符：**
  - [ ] 理解文件描述符的概念和作用
  - [ ] 掌握标准文件描述符 (0, 1, 2)

- **I/O操作：**
  - [ ] 掌握基本的读写操作
  - [ ] 理解缓冲机制

### 重要API
```c
// 基本I/O操作
int fd = open(pathname, flags, mode);
ssize_t n = read(fd, buffer, count);
ssize_t n = write(fd, buffer, count);
int result = close(fd);
```

### 学习心得
```
[记录对I/O模型的理解]
```

---

## 2.6 程序

### 关键概念
- **程序 vs 进程：**
  - [ ] 理解程序和进程的本质区别
  - [ ] 掌握程序的组成和结构

### 学习心得
```
[记录对程序概念的理解]
```

---

## 2.7 进程

### 关键概念
- **进程生命周期：**
  - [ ] 理解进程的创建、执行、终止过程
  - [ ] 掌握父子进程关系

- **进程标识：**
  - [ ] 理解PID的作用
  - [ ] 掌握进程信息的获取方法

### 重要API
```c
// 进程操作
pid_t pid = fork();
pid_t mypid = getpid();
pid_t parent = getppid();
int status;
pid_t child = wait(&status);
```

### 学习心得
```
[记录对进程概念的理解]
```

---

## 2.8 内存映射

### 关键概念
- **虚拟内存：**
  - [ ] 理解虚拟内存的概念和优势
  - [ ] 掌握内存映射的用途

### 重要API
```c
// 内存映射
void *addr = mmap(NULL, length, PROT_READ|PROT_WRITE, 
                  MAP_SHARED, fd, offset);
int result = munmap(addr, length);
```

### 学习心得
```
[记录对内存映射的理解]
```

---

## 2.9 静态库和共享库

### 关键概念
- **链接类型：**
  - [ ] 理解静态链接和动态链接的区别
  - [ ] 掌握库的创建和使用方法

### 重要区别
| 特性 | 静态库 | 共享库 |
|------|--------|--------|
| 文件扩展名 | .a | .so |
| 链接时机 | [填写] | [填写] |
| 程序大小 | [填写] | [填写] |
| 内存使用 | [填写] | [填写] |

### 操作命令
```bash
# 静态库
ar rcs libmylib.a obj1.o obj2.o
gcc -o program main.c -L. -lmylib

# 共享库
gcc -shared -fPIC -o libmylib.so source1.c source2.c
gcc -o program main.c -L. -lmylib
```

### 学习心得
```
[记录对库概念的理解]
```

---

## 2.10 进程间通信及同步

### 关键概念
- **IPC机制：**
  - [ ] 理解各种IPC方法的特点
  - [ ] 掌握同步和互斥的概念

### IPC方法对比
| 方法 | 特点 | 适用场景 |
|------|------|----------|
| 管道 | [填写] | [填写] |
| 消息队列 | [填写] | [填写] |
| 共享内存 | [填写] | [填写] |
| 信号量 | [填写] | [填写] |

### 学习心得
```
[记录对IPC的理解]
```

---

## 2.11 信号

### 关键概念
- **信号机制：**
  - [ ] 理解信号的异步特性
  - [ ] 掌握信号处理的方法

### 重要API
```c
// 信号处理
signal(SIGINT, signal_handler);
int result = kill(pid, SIGUSR1);
int result = pause();
```

### 学习心得
```
[记录对信号机制的理解]
```

---

## 2.12 线程

### 关键概念
- **线程 vs 进程：**
  - [ ] 理解线程和进程的区别
  - [ ] 掌握线程同步机制

### 重要API
```c
// POSIX线程
pthread_t thread;
pthread_create(&thread, NULL, thread_func, arg);
pthread_join(thread, NULL);

// 互斥锁
pthread_mutex_t mutex = PTHREAD_MUTEX_INITIALIZER;
pthread_mutex_lock(&mutex);
pthread_mutex_unlock(&mutex);
```

### 学习心得
```
[记录对线程概念的理解]
```

---

## 2.13 进程组和Shell作业控制

### 关键概念
- **进程组：**
  - [ ] 理解进程组的概念和作用
  - [ ] 掌握作业控制机制

### 学习心得
```
[记录对进程组的理解]
```

---

## 2.14 会话、控制终端和控制进程

### 关键概念
- **会话管理：**
  - [ ] 理解会话的概念
  - [ ] 掌握守护进程的创建方法

### 学习心得
```
[记录对会话管理的理解]
```

---

## 2.15 伪终端

### 关键概念
- **伪终端：**
  - [ ] 理解pty的概念和用途
  - [ ] 掌握终端模拟的基本原理

### 学习心得
```
[记录对伪终端的理解]
```

---

## 2.16 日期和时间

### 关键概念
- **时间表示：**
  - [ ] 理解系统时间的表示方法
  - [ ] 掌握时间的获取和格式化

### 重要API
```c
// 时间操作
time_t now = time(NULL);
struct tm *tm_info = localtime(&now);
char buffer[80];
strftime(buffer, 80, "%Y-%m-%d %H:%M:%S", tm_info);
```

### 学习心得
```
[记录对时间处理的理解]
```

---

## 2.17 客户端服务器架构

### 关键概念
- **C/S架构：**
  - [ ] 理解客户端服务器模式
  - [ ] 掌握基本的网络编程概念

### 学习心得
```
[记录对C/S架构的理解]
```

---

## 2.18 实时性

### 关键概念
- **实时系统：**
  - [ ] 理解实时性的重要性
  - [ ] 掌握调度策略的选择

### 学习心得
```
[记录对实时性的理解]
```

---

## 2.19 /proc文件系统

### 关键概念
- **虚拟文件系统：**
  - [ ] 理解/proc的作用和结构
  - [ ] 掌握系统信息的获取方法

### 常用路径
```
/proc/cpuinfo    - CPU信息
/proc/meminfo    - 内存信息
/proc/[pid]/     - 进程信息
/proc/version    - 内核版本
```

### 学习心得
```
[记录对/proc文件系统的理解]
```

---

## 📊 总结与反思

### 重要概念关系图
```
[绘制或描述各概念之间的关系]
```

### 学习收获
```
[总结本章最大的收获和感悟]
```

### 疑难问题
```
[记录学习过程中遇到的困难和解决方案]
```

### 下一步计划
```
[制定后续学习计划和重点复习内容]
```

---

## 🔖 快速参考

### 重要系统调用
- `open()`, `read()`, `write()`, `close()` - 文件I/O
- `fork()`, `exec()`, `wait()` - 进程管理
- `signal()`, `kill()` - 信号处理
- `mmap()`, `munmap()` - 内存映射

### 重要头文件
- `<unistd.h>` - POSIX操作系统API
- `<sys/types.h>` - 数据类型定义
- `<sys/stat.h>` - 文件状态
- `<signal.h>` - 信号处理
- `<pthread.h>` - POSIX线程

### 调试工具
- `strace` - 系统调用跟踪
- `ltrace` - 库函数跟踪
- `gdb` - 调试器
- `valgrind` - 内存检查
- `ps`, `top` - 进程信息