/**\n * 基本文件I/O操作示例\n * 演示最基本的文件打开、读取、写入和关闭操作\n */\n\n#include <stdio.h>\n#include <stdlib.h>\n#include <fcntl.h>\n#include <unistd.h>\n#include <string.h>\n#include <errno.h>\n\n#define BUFFER_SIZE 1024\n\nint main(int argc, char *argv[]) {\n    if (argc != 3) {\n        fprintf(stderr, \"用法: %s <源文件> <目标文件>\\n\", argv[0]);\n        exit(EXIT_FAILURE);\n    }\n\n    const char *source_file = argv[1];\n    const char *dest_file = argv[2];\n    int source_fd, dest_fd;\n    ssize_t bytes_read, bytes_written;\n    char buffer[BUFFER_SIZE];\n\n    // 打开源文件（只读）\n    source_fd = open(source_file, O_RDONLY);\n    if (source_fd == -1) {\n        fprintf(stderr, \"无法打开源文件 '%s': %s\\n\", \n                source_file, strerror(errno));\n        exit(EXIT_FAILURE);\n    }\n\n    // 打开目标文件（写入，创建，截断）\n    dest_fd = open(dest_file, O_WRONLY | O_CREAT | O_TRUNC, 0644);\n    if (dest_fd == -1) {\n        fprintf(stderr, \"无法打开目标文件 '%s': %s\\n\", \n                dest_file, strerror(errno));\n        close(source_fd);\n        exit(EXIT_FAILURE);\n    }\n\n    // 复制文件内容\n    while ((bytes_read = read(source_fd, buffer, BUFFER_SIZE)) > 0) {\n        bytes_written = write(dest_fd, buffer, bytes_read);\n        if (bytes_written != bytes_read) {\n            fprintf(stderr, \"写入错误: %s\\n\", strerror(errno));\n            break;\n        }\n    }\n\n    if (bytes_read == -1) {\n        fprintf(stderr, \"读取错误: %s\\n\", strerror(errno));\n    }\n\n    // 关闭文件\n    if (close(source_fd) == -1) {\n        fprintf(stderr, \"关闭源文件错误: %s\\n\", strerror(errno));\n    }\n\n    if (close(dest_fd) == -1) {\n        fprintf(stderr, \"关闭目标文件错误: %s\\n\", strerror(errno));\n    }\n\n    printf(\"文件复制完成: %s -> %s\\n\", source_file, dest_file);\n    return EXIT_SUCCESS;\n}