# 第2章学习计划：基本概念

## 📚 章节概述

第2章是Linux系统编程的基础章节，涵盖了操作系统的核心概念。本章为后续所有章节奠定理论基础，需要扎实掌握每个概念。

**学习目标：**
- 理解Linux操作系统的基本架构和核心概念
- 掌握文件系统、进程、内存管理等关键概念
- 建立系统编程的整体知识框架
- 为后续实践章节做好理论准备

## 🗓️ 学习时间安排

**总预计时间：** 2-3周  
**每日学习时间：** 1-2小时  
**学习方式：** 理论学习 + 概念验证代码 + 系统观察

## 📖 详细学习计划

### 第1周：基础概念 (2.1-2.10)

#### Day 1-2: 系统架构基础 (2.1-2.2)
**2.1 操作系统的核心**
- **学习重点：**
  - 内核态与用户态的区别
  - 系统调用接口
  - 内核的主要职责
- **实践内容：**
  - 编写简单程序观察系统调用
  - 使用 `strace` 跟踪系统调用
- **验证方法：**
  ```bash
  strace -c ./simple_program
  ```

**2.2 Shell**
- **学习重点：**
  - Shell的作用和工作原理
  - 命令解析和执行过程
  - Shell作为用户界面的重要性
- **实践内容：**
  - 分析Shell命令执行过程
  - 简单Shell功能实现

#### Day 3-4: 用户管理和文件系统 (2.3-2.4)
**2.3 用户和组**
- **学习重点：**
  - 用户ID (UID) 和组ID (GID)
  - 权限模型
  - 特殊用户 (root, nobody等)
- **实践内容：**
  - 编写程序获取用户信息
  - 权限检查和切换
- **相关系统调用：**
  - `getuid()`, `getgid()`, `getpwuid()`, `getgrgid()`

**2.4 单根目录层次、目录、链接文件**
- **学习重点：**
  - Linux文件系统树结构
  - 硬链接与软链接的区别
  - 文件类型和元数据
- **实践内容：**
  - 目录遍历程序
  - 链接文件操作示例
- **相关系统调用：**
  - `stat()`, `lstat()`, `link()`, `symlink()`

#### Day 5-6: I/O和程序概念 (2.5-2.6)
**2.5 文件I/O模型**
- **学习重点：**
  - 文件描述符概念
  - 标准I/O流
  - 缓冲机制
- **实践内容：**
  - 基本文件操作
  - 缓冲I/O对比
- **相关系统调用：**
  - `open()`, `read()`, `write()`, `close()`

**2.6 程序**
- **学习重点：**
  - 程序与进程的区别
  - 可执行文件格式 (ELF)
  - 程序加载过程
- **实践内容：**
  - 分析ELF文件结构
  - 程序启动过程观察

#### Day 7: 进程基础 (2.7)
**2.7 进程**
- **学习重点：**
  - 进程概念和生命周期
  - 进程标识符 (PID)
  - 父子进程关系
- **实践内容：**
  - 进程创建 (`fork()`)
  - 进程信息获取
  - 进程状态观察
- **相关系统调用：**
  - `fork()`, `getpid()`, `getppid()`, `wait()`

### 第2周：高级概念 (2.8-2.15)

#### Day 8-9: 内存和库 (2.8-2.9)
**2.8 内存映射**
- **学习重点：**
  - 虚拟内存概念
  - 内存映射机制
  - mmap的用途和优势
- **实践内容：**
  - 内存映射文件示例
  - 共享内存实现
- **相关系统调用：**
  - `mmap()`, `munmap()`

**2.9 静态库和共享库**
- **学习重点：**
  - 库的概念和作用
  - 静态链接vs动态链接
  - 库的加载过程
- **实践内容：**
  - 创建和使用静态库
  - 创建和使用共享库
  - 动态加载库示例
- **相关工具：**
  - `ar`, `gcc`, `ldd`, `dlopen()`

#### Day 10-11: 进程间通信 (2.10-2.11)
**2.10 进程间通信及同步**
- **学习重点：**
  - IPC机制概述
  - 管道、消息队列、共享内存、信号量
  - 同步与互斥概念
- **实践内容：**
  - 简单管道通信
  - 信号量同步示例

**2.11 信号**
- **学习重点：**
  - 信号的概念和类型
  - 信号处理机制
  - 信号的异步性质
- **实践内容：**
  - 信号发送和接收
  - 信号处理函数编写
- **相关系统调用：**
  - `signal()`, `kill()`, `pause()`

#### Day 12-13: 线程和进程组 (2.12-2.13)
**2.12 线程**
- **学习重点：**
  - 线程vs进程
  - 线程同步机制
  - POSIX线程 (pthreads)
- **实践内容：**
  - 基本线程创建和管理
  - 互斥锁使用示例
- **相关函数：**
  - `pthread_create()`, `pthread_join()`, `pthread_mutex_lock()`

**2.13 进程组和Shell作业控制**
- **学习重点：**
  - 进程组概念
  - 作业控制机制
  - 前台和后台进程
- **实践内容：**
  - 进程组操作
  - 简单作业控制实现

#### Day 14: 会话和终端 (2.14-2.15)
**2.14 会话、控制终端和控制进程**
- **学习重点：**
  - 会话的概念
  - 控制终端的作用
  - 守护进程概念
- **实践内容：**
  - 会话管理操作
  - 简单守护进程创建

**2.15 伪终端**
- **学习重点：**
  - 伪终端的概念和用途
  - pty的工作原理
  - 终端模拟器实现基础
- **实践内容：**
  - 伪终端基本操作

### 第3周：系统服务和总结 (2.16-2.20)

#### Day 15-16: 时间和架构 (2.16-2.17)
**2.16 日期和时间**
- **学习重点：**
  - 系统时间表示方法
  - 时区处理
  - 高精度时间测量
- **实践内容：**
  - 时间获取和格式化
  - 时间计算和比较
- **相关函数：**
  - `time()`, `gettimeofday()`, `strftime()`

**2.17 客户端服务器架构**
- **学习重点：**
  - C/S架构概念
  - 网络编程基础
  - 服务器设计模式
- **实践内容：**
  - 简单TCP服务器和客户端
  - 并发服务器设计

#### Day 17-18: 特殊主题 (2.18-2.19)
**2.18 实时性**
- **学习重点：**
  - 实时系统概念
  - 调度策略
  - 优先级和延迟
- **实践内容：**
  - 实时调度参数设置
  - 延迟测量

**2.19 /proc文件系统**
- **学习重点：**
  - /proc文件系统的作用
  - 系统信息获取方法
  - 进程信息查看
- **实践内容：**
  - 系统信息读取程序
  - 进程监控工具

#### Day 19-21: 总结和复习 (2.20)
**2.20 总结**
- **复习重点：**
  - 梳理所有概念之间的关系
  - 完善知识体系
  - 准备实践项目

## 🧪 实践项目建议

### 项目1：系统信息收集器
**目标：** 整合多个概念，创建一个系统信息收集工具
**功能：**
- 显示系统基本信息
- 进程信息统计
- 用户和权限信息
- 文件系统使用情况

### 项目2：简单Shell实现
**目标：** 实践进程、I/O、信号等概念
**功能：**
- 命令解析和执行
- 管道支持
- 作业控制
- 信号处理

### 项目3：进程监控工具
**目标：** 深入理解进程和系统调用
**功能：**
- 实时进程监控
- 系统调用跟踪
- 资源使用统计

## 📝 学习方法建议

### 理论学习
1. **概念理解：** 重点理解概念的本质和相互关系
2. **系统观察：** 使用系统工具验证理论知识
3. **对比分析：** 比较不同机制的优缺点

### 实践验证
1. **编写小程序：** 验证每个概念
2. **使用系统工具：** `ps`, `top`, `lsof`, `strace`等
3. **阅读系统文件：** `/proc`, `/sys`等

### 记录总结
1. **概念图谱：** 绘制概念关系图
2. **代码注释：** 详细注释每行代码的作用
3. **学习日志：** 记录每日学习心得

## 🔍 重点难点提醒

### 关键概念
- **文件描述符：** 理解其在整个I/O系统中的作用
- **进程生命周期：** 掌握创建、执行、终止的完整过程
- **权限模型：** 理解UID/GID的工作机制
- **信号机制：** 掌握异步事件处理

### 容易混淆的概念
- 程序 vs 进程 vs 线程
- 硬链接 vs 软链接
- 静态库 vs 共享库
- 进程组 vs 会话

### 实验重点
- 使用调试工具观察系统行为
- 编写代码验证理论概念
- 分析系统调用的执行过程

## 📚 参考资源

### 推荐阅读
- 《Linux程序设计》- 相关章节
- Linux man pages (`man 2 syscall_name`)
- `/usr/include/` 头文件

### 在线资源
- Linux内核文档
- POSIX标准文档
- GNU C库文档

### 实用工具
- `man` - 查看手册页
- `info` - GNU信息文档
- `strace` - 系统调用跟踪
- `ltrace` - 库函数调用跟踪
- `gdb` - 调试器

---

**学习提示：**
本章内容理论性较强，建议结合大量实践来加深理解。每个概念都要通过编程实验来验证，这样才能为后续章节的学习打下坚实基础。